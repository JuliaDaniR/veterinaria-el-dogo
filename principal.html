<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Veterinaria El Dogo</title>
    <link rel="stylesheet" href="./css/principal.css" />
  </head>

  <body>
    <main>
      <!-- HEADER -->
      <header id="app-header" class="app-header">
        <h1>🐶 El Dogo | Gestión Veterinaria</h1>
        <nav>
          <button id="btn-dashboard">🏠 Inicio</button>
          <button id="btn-logout" style="color: red">🚪 Salir</button>
        </nav>
      </header>
      <div id="dashboard-view" class="view active">
        <h2>Bienvenido a Veterinaria El Dogo</h2>
        <p>
          Selecciona una opción para gestionar la información de clientes y
          pacientes.
        </p>

        <div class="dashboard-grid">
          <div class="card card-blue" id="btn-clientes">
            <h3>👥 Gestión de Clientes</h3>
            <p>Alta, modificación y baja de propietarios.</p>
            <span>Acceder →</span>
          </div>

          <div class="card card-green" id="btn-mascotas">
            <h3>🐾 Gestión de Mascotas</h3>
            <p>Registro de mascotas, historial y cambio de dueño.</p>
            <span>Acceder →</span>
          </div>
        </div>
      </div>
      <!-- ===== CLIENTES ===== -->
      <div id="clientes-list-view" class="view">
        <div class="flex justify-between mb-4">
          <h2>Lista de Clientes</h2>
          <button id="btn-nuevo-cliente" class="btn btn-blue">
            ➕ Nuevo Cliente
          </button>
        </div>

        <input
          type="text"
          id="cliente-search"
          placeholder="🔎 Buscar cliente..."
          class="input-field"
        />

        <table>
          <thead>
            <tr>
              <th>Cliente</th>
              <th>Teléfono</th>
              <th>Mascotas</th>
              <th class="text-right">Acciones</th>
            </tr>
          </thead>
          <tbody id="clientes-table-body"></tbody>
        </table>

        <p id="no-clientes-found" class="text-center hidden">
          No se encontraron clientes.
        </p>
      </div>

      <div id="cliente-form-view" class="view">
        <h2 id="cliente-form-title">Nuevo Cliente</h2>
        <form id="cliente-form">
          <input type="hidden" id="cliente-id" />

          <div class="form-grid">
            <input
              type="text"
              id="cliente-nombre"
              placeholder="Nombre (Requerido)"
              class="input-field"
              required
            />
            <input
              type="text"
              id="cliente-apellido"
              placeholder="Apellido (Requerido)"
              class="input-field"
              required
            />
            <input
              type="text"
              id="cliente-telefono"
              placeholder="Teléfono (Requerido)"
              class="input-field"
              required
            />
            <input
              type="email"
              id="cliente-email"
              placeholder="Email (Opcional)"
              class="input-field"
            />
          </div>

          <input
            type="text"
            id="cliente-direccion"
            placeholder="Dirección (Opcional)"
            class="input-field"
          />

          <div class="flex justify-end gap-2 mt-4">
            <button
              type="button"
              class="btn btn-secondary"
              id="btn-cancelar-cliente"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-blue" id="btn-guardar-cliente">
              💾 Guardar Cliente
            </button>
          </div>
        </form>
      </div>

      <!-- ===== MASCOTAS ===== -->
      <div id="mascotas-list-view" class="view">
        <div class="flex justify-between mb-4">
          <h2>Lista de Mascotas</h2>
          <button id="btn-nueva-mascota" class="btn btn-green">
            ➕ Nueva Mascota
          </button>
        </div>

        <input
          type="text"
          id="mascota-search"
          placeholder="🔎 Buscar mascota o propietario..."
          class="input-field"
        />

        <table>
          <thead>
            <tr>
              <th>Mascota</th>
              <th class="sm-hidden">Especie</th>
              <th>Propietario</th>
              <th class="text-right">Acciones</th>
            </tr>
          </thead>
          <tbody id="mascotas-table-body"></tbody>
        </table>

        <p id="no-mascotas-found" class="text-center hidden">
          No se encontraron pacientes.
        </p>
      </div>

      <div id="mascota-form-view" class="view">
        <h2 id="mascota-form-title">Nueva Mascota</h2>
        <form id="mascota-form">
          <input type="hidden" id="mascota-id" />

          <div class="form-grid">
            <input
              type="text"
              id="mascota-nombre"
              placeholder="Nombre Mascota (Requerido)"
              class="input-field"
              required
            />
            <input
              type="text"
              id="mascota-especie"
              placeholder="Especie (Ej: Perro, Gato)"
              class="input-field"
              required
            />
            <input
              type="text"
              id="mascota-raza"
              placeholder="Raza (Opcional)"
              class="input-field"
            />
            <input
              type="number"
              id="mascota-edad"
              placeholder="Edad (Años - Opcional)"
              class="input-field"
            />
          </div>

          <label for="mascota-cliente-id">Propietario Actual (Requerido)</label>
          <select id="mascota-cliente-id" class="input-field" required></select>

          <textarea
            id="mascota-salud"
            rows="3"
            placeholder="Problemas de salud u observaciones importantes..."
            class="input-field"
          ></textarea>

          <div class="flex justify-between mt-4">
            <button
              type="button"
              class="btn btn-secondary"
              id="btn-cancelar-mascota"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-green">
              💾 Guardar Mascota
            </button>
          </div>
        </form>
      </div>
      <!-- ===== USUARIOS ===== -->
      <div id="usuarios-list-dashboard">
        <h2>Lista de Empleados</h2>
        <button id="btn-nuevo-usuario" class="btn btn-blue">
          ➕ Nuevo Usuario
        </button>

        <input
          type="text"
          id="usuario-search"
          placeholder="🔎 Buscar usuario..."
          class="input-field"
        />

        <table>
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Email</th>
              <th>Rol</th>
              <th>Dirección</th>
              <th class="text-right">Acciones</th>
            </tr>
          </thead>
          <tbody id="usuarios-table-body"></tbody>
        </table>

        <p id="no-usuarios-found" class="text-center" style="display: none">
          No se encontraron usuarios.
        </p>
      </div>

      <!-- Overlay del modal -->
      <div
        id="usuario-modal-overlay"
        style="
          display: none;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.4);
          z-index: 900;
        "
      ></div>

      <!-- Formulario modal -->
      <div
        id="usuario-form-view"
        style="
          display: none;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background: #010c08b0;
          z-index: 1000;
          padding: 20px;
          box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);
          border-radius: 8px;
          max-width: 600px;
          width: 100%;
        "
      >
        <h2 id="usuario-form-title">Nuevo Usuario</h2>
        <form id="usuario-form">
          <input type="hidden" id="usuario-id" />

          <div class="form-grid">
            <input
              type="text"
              id="usuario-nombre"
              placeholder="Nombre completo"
              class="input-field"
              required
            />

            <input
              type="text"
              id="usuario-direccion"
              placeholder="Dirección"
              class="input-field"
            />

            <input
              type="email"
              id="usuario-email"
              placeholder="Email"
              class="input-field"
              required
            />

            <select id="usuario-rol" class="input-field" required>
              <option value="recepcionista">Recepcionista</option>
              <option value="veterinario">Veterinario</option>
              <option value="admin">Administrador</option>
            </select>

            <!-- Contenedor de contraseña, solo visible al crear -->
            <div id="usuario-password-group">
              <input
                type="password"
                id="usuario-password"
                placeholder="Contraseña"
                class="input-field"
              />
              <input
                type="password"
                id="usuario-password-confirm"
                placeholder="Repetir contraseña"
                class="input-field"
              />
            </div>
          </div>

          <div class="flex justify-end gap-2 mt-4">
            <button
              type="button"
              class="btn btn-secondary"
              id="btn-cancelar-usuario"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-blue" id="btn-guardar-usuario">
              💾 Guardar Usuario
            </button>
          </div>
        </form>
      </div>
    </main>

    <script type="module" src="./controladores/main-principal.js"></script>
  </body>
</html>
